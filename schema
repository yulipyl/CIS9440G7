CREATE SCHEMA Instrument;


CREATE  TABLE "Instrument".DIM_ASSET ( 
	ASSET_ID             integer NOT NULL   ,
	GROUP_CODE           varchar(15)    ,
	CONSTRAINT PK_DIM_ASSET PRIMARY KEY ( ASSET_ID )
 );

CREATE  TABLE "Instrument".DIM_DATE ( 
	DATE_ID              integer NOT NULL   ,
	DATE_ISO_FORMAT      datetime    ,
	YEAR_NUMBER          integer    ,
	MONTH_NUMBER         integer    ,
	QUARTER_NUMBER       integer    ,
	DAY_NUMBER           integer    ,
	HOUR_NUMBER          integer    ,
	WEEK_OF_MONTH        integer    ,
	WEEK_OF_YEAR         integer    ,
	CONSTRAINT PK_DIM_DATE PRIMARY KEY ( DATE_ID )
 );

CREATE  TABLE "Instrument".DIM_SECURITY ( 
	SECURITY_ID          integer NOT NULL   ,
	SECURITY_TYPE        varchar(50)    ,
	SECURITY_EXCHANGE    varchar(50)    ,
	CONSTRAINT PK_DIM_SECURITY PRIMARY KEY ( SECURITY_ID )
 );


CREATE  TABLE "Instrument".FACT_INSTRUMENT ( 
	HIGHLIMITPRICE       integer    ,
	LOWLIMITPRICE        integer    ,
	FACT_ID              integer NOT NULL   ,
	SECURITY_ID          integer    ,
	ASSET_ID             integer    ,
	TRADEDATE_ID         integer    ,
	ACTIVATIONDATETIME_ID integer    ,
	EXPIRATIONDATETIME_ID integer    ,
	MATURITYDATE_ID      integer    ,
	CONSTRAINT PK_FACT_INSTRUMENT PRIMARY KEY ( FACT_ID )
 );

ALTER TABLE "Instrument".FACT_INSTRUMENT ADD CONSTRAINT FK_FACT_INSTRUMENT_DIM_SECURITY FOREIGN KEY ( SECURITY_ID ) REFERENCES "Instrument".DIM_SECURITY( SECURITY_ID ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE "Instrument".FACT_INSTRUMENT ADD CONSTRAINT FK_FACT_INSTRUMENT_DIM_ASSET FOREIGN KEY ( ASSET_ID ) REFERENCES "Instrument".DIM_ASSET( ASSET_ID ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE "Instrument".FACT_INSTRUMENT ADD CONSTRAINT FK_FACT_INSTRUMENT_DIM_DATE FOREIGN KEY ( ACTIVATIONDATETIME_ID ) REFERENCES "Instrument".DIM_DATE( DATE_ID ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE "Instrument".FACT_INSTRUMENT ADD CONSTRAINT FK_FACT_INSTRUMENT_DIM_DATE_0 FOREIGN KEY ( EXPIRATIONDATETIME_ID ) REFERENCES "Instrument".DIM_DATE( DATE_ID ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE "Instrument".FACT_INSTRUMENT ADD CONSTRAINT FK_FACT_INSTRUMENT_DIM_DATE_1 FOREIGN KEY ( MATURITYDATE_ID ) REFERENCES "Instrument".DIM_DATE( DATE_ID ) ON DELETE NO ACTION ON UPDATE NO ACTION;
